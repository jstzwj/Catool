# 关于Array类的设计

### 在编写Array类之前，我们有以下几个问题考虑
1.Array的实现是否应该与Matrix分开  
2.Array是否应该可以变化大小  
3.Matrix的维度是否应该当作类型的一部分  
4.Matrix是行优先还是列优先  

### 在几周的思考后我做出以下决定
1.Array类是一个既可以满足正常数组的功能需求，又能够当作高维数组使用的类  
2.Array大小可以变化  
3.Matrix的维度信息不应该当作类型的一部分  
4.列优先  


### 接下来，我会对以上几点做出解释
1.Array可以看作只有一个维度的矩阵，因此放在同一个类中表示是可行且正常的想法  
2.Array在进行cat等操作时会需要额外的空间，因此动态扩展空间的需求是存在的  
3.当维度信息作为类型的一部分时，函数接受参数时重载会比较麻烦，容易混乱  
例如，把Matrix这么写  
`cpp
template<class T>
class Matrix
{
    private:
    Array<Array<T> > data;
    public:
    ...other...
};
`
这样三维，四维的矩阵怎么表示？如何保证内层Array<T>长度相同？  

4.维度是很容易弄乱思维的的细节，画图会比较直观  
例如矩阵:  
1 2  
3 4  
5 6  
它3行2列  
如果是一个三维矩阵，可以写作：  
3,2,x  
如果是列优先，  
我们发现在表达的时候恰好从左到右维度升高，  
而行优先的话，  
第一二维会与表达方式相背。  
我们在书写上习惯于把行数（行优先的第二维，列优先第一维）写在前，列数（行优先的第一维，列优先第二维）写在后。  
为了表达方便，我采用了列优先。  
这也是我使用列优先的原因之一。  
  
其次，在读取音频文件到矩阵时，以列的方式显示会便于用户查看，数据如果也以列优先存储，在处理时内存上时连续的，提高缓存命中率，能提高效率。  
这也是我使用列优先的原因之二。  



